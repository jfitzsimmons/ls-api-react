{"version":3,"sources":["Search.js","Helpers.js","Entity.js","RelationDetails.js","Related.js","App.js","serviceWorker.js","index.js"],"names":["Search","Component","constructor","props","super","handleInput","e","this","setState","query","target","value","handleKeypress","state","updateTerm","charCode","suggestions","id","text","bind","componentDidMount","render","links","suggestion","push","className","type","key","onClick","aria-hidden","focusable","data-prefix","data-icon","role","xmlns","viewBox","fill","d","onChange","onKeyPress","placeholder","paginate","direction","prevState","page","removeDuplicates","array","filter","obj","index","self","findIndex","el","Entity","objToQueryString","keyValuePairs","Object","keys","forEach","hasOwnProperty","encodeURIComponent","join","returnError","data","fetchSearchData","componentDidUpdate","prevProps","term","queryString","setId","fetch","method","then","response","json","responseData","length","catch","error","console","log","attributes","name","blurb","summary","cx","cy","r","RelationDetails","PureComponent","included","did","eid","getRelationData","relatedOwnerFlag","rof","relatedOwner","ro","Related","relationships","relationsId","detailsId","localEntityId","active","meta","entityId","getRelationshipData","p","queryPage","myRelations","myDetails","relation","descriptions","filteredRelationships","desc","description","uniqueId","entity1_id","entity2_id","pageCount","disabled","App","href","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ef507e86.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n// import Suggestions from './components/Suggestions';\nimport './App.scss';\n\nexport class Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: 'Trump',\n      suggestions: [\n        { id: 'bush', text: 'Bush' },\n        { id: 'boeing', text: 'Boeing' },\n        { id: 'mcconnell', text: 'McConnell' },\n        { id: 'rnc', text: 'RNC' },\n        { id: 'clinton', text: 'Clinton' },\n        { id: 'feinstein', text: 'Feinstein' },\n        { id: 'pfizer', text: 'Pfizer' },\n      ],\n    };\n    this.handleInput = this.handleInput.bind(this);\n    this.handleKeypress = this.handleKeypress.bind(this);\n  }\n\n  componentDidMount() {\n    const { query } = this.state;\n    const { updateTerm } = this.props;\n    updateTerm(query);\n  }\n\n  handleInput = (e) => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleKeypress = (e) => {\n    const { query } = this.state;\n    const { updateTerm } = this.props;\n    if (e.charCode === 13) {\n      updateTerm(query);\n    }\n  };\n\n  render() {\n    const { suggestions, query } = this.state;\n    const { updateTerm } = this.props;\n    const links = [];\n    for (const suggestion of suggestions) {\n      links.push(\n        <button\n          className=\"search-suggestions__button\"\n          type=\"button\"\n          key={suggestion.id}\n          onClick={() => updateTerm(suggestion.text)}\n        >\n          {suggestion.text}\n        </button>\n      );\n    }\n    return (\n      <div>\n        <div className=\"search\">\n          <div className=\"search-field\">\n            <svg\n              aria-hidden=\"true\"\n              focusable=\"false\"\n              data-prefix=\"fas\"\n              data-icon=\"search\"\n              role=\"img\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 512 512\"\n              className=\"svg-inline--fa fa-search fa-w-16 fa-3x\"\n            >\n              <path\n                fill=\"currentColor\"\n                d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"\n                className=\"\"\n              />\n            </svg>\n            <input onChange={this.handleInput} onKeyPress={this.handleKeypress} placeholder=\"Enter a search term\" />{' '}\n            <button type=\"button\" onClick={() => updateTerm(query)}>\n              Search\n            </button>\n          </div>\n          <div className=\"search-suggestions\">Suggestions: {links}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = {\n  updateTerm: PropTypes.func.isRequired,\n};\n","export function paginate(direction) {\n  this.setState((prevState) => ({ page: prevState.page + direction }));\n}\n\nexport function removeDuplicates(array, key) {\n  return array.filter((obj, index, self) => index === self.findIndex((el) => el[key] === obj[key]));\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './App.scss';\nimport { paginate } from './Helpers.js';\n\nexport class Entity extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 0,\n      returnError: false,\n    };\n    this.data = {};\n    this.paginate = paginate.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchSearchData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { term } = this.props;\n    if (term !== prevProps.term) {\n      this.setState(\n        {\n          page: 0,\n        },\n        this.fetchSearchData()\n      );\n    }\n  }\n\n  objToQueryString = (obj) => {\n    const keyValuePairs = [];\n    Object.keys(obj).forEach((key) => {\n      if (obj && obj.hasOwnProperty(key)) {\n        keyValuePairs.push(encodeURIComponent(obj[key]));\n      }\n    });\n    return keyValuePairs.join('&');\n  };\n\n  queryString() {\n    const { term } = this.props;\n    return this.objToQueryString({\n      term,\n    });\n  }\n\n  fetchSearchData() {\n    const { setId } = this.props;\n    fetch(`https://littlesis.org/api/entities/search?q=${this.queryString()}`, {\n      method: 'GET',\n    })\n      .then((response) => response.json())\n      .then((responseData) => {\n        this.data = responseData.data;\n        if (this.data.length === 0) {\n          return this.setState({\n            returnError: true,\n          });\n        }\n        this.setState(\n          {\n            page: 0,\n            returnError: false,\n          },\n          setId(this.data[0].id)\n        );\n      })\n      .catch((error) => {\n        this.setState({\n          returnError: true,\n        });\n        console.log(error);\n      });\n  }\n\n  render() {\n    const { page, returnError, term } = this.state;\n    const { setId } = this.props;\n    if (this.data[page] && !returnError) {\n      return (\n        <div>\n          <div className=\"entity\">\n            <div>\n              <div className=\"entity-name\">{this.data[page].attributes.name}</div>{' '}\n              <div className=\"entity-blurb\"> {this.data[page].attributes.blurb} </div>\n              <div> {this.data[page].attributes.summary} </div>{' '}\n            </div>{' '}\n            <div className=\"entity-paging paging\">\n              {' '}\n              <div>More Results</div>\n              <div>\n                {page + 1} of {this.data.length}\n              </div>\n              <div className=\"entity-paging-buttons paging-buttons\">\n                {page === 0 ? null : (\n                  <button\n                    type=\"button\"\n                    className=\"prev entity-paging-buttons__button\"\n                    onClick={() => {\n                      this.paginate(-1);\n                      setId(this.data[page - 1].id);\n                    }}\n                  >\n                    <span>{'<<'}&nbsp;</span>\n                    <span className=\"entity-paging-button__text\">{this.data[page - 1].attributes.name}</span>\n                  </button>\n                )}\n                {page === this.data.length - 1 ? null : (\n                  <button\n                    type=\"button\"\n                    className=\"next entity-paging__button\"\n                    onClick={() => {\n                      this.paginate(1);\n                      setId(this.data[page + 1].id);\n                    }}\n                  >\n                    <span className=\"entity-paging__button__text\"> {this.data[page + 1].attributes.name} </span>{' '}\n                    <span>&nbsp;{'>>'} </span>\n                  </button>\n                )}\n              </div>\n            </div>{' '}\n          </div>\n          {}\n        </div>\n      );\n    }\n    return (\n      <div>\n        {' '}\n        {returnError ? (\n          <div className=\"search-error\">\n            ERROR : {term}\n            did not return any results{' '}\n          </div>\n        ) : (\n          <div className=\"flx-ctr\">\n            <svg className=\"loading\" viewBox=\"25 25 50 50\">\n              <circle cx=\"50\" cy=\"50\" r=\"20\">\n                {' '}\n              </circle>{' '}\n            </svg>{' '}\n          </div>\n        )}{' '}\n      </div>\n    );\n  }\n}\n\nEntity.propTypes = {\n  term: PropTypes.string.isRequired,\n  setId: PropTypes.func.isRequired,\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './App.scss';\n\nexport class RelationDetails extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      included: {},\n      returnError: false,\n    };\n  }\n\n  componentDidMount() {\n    const { did, eid } = this.props;\n    this.getRelationData(eid, did, true);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { did, eid } = this.props;\n    const relatedOwnerFlag = eid !== prevProps.eid;\n    if (did !== prevProps.did) {\n      this.getRelationData(eid, did, relatedOwnerFlag);\n    }\n  }\n\n  getRelationData(eid, did, rof) {\n    const { relatedOwner } = this.props;\n    fetch(`https://littlesis.org/api/relationships/${did}`, {\n      method: 'GET',\n    })\n      .then((response) => response.json())\n      .then((responseData) => {\n        if (responseData.included.length === 0) {\n          return this.setState({\n            returnError: true,\n          });\n        }\n        this.setState({\n          included: eid === responseData.included[0].id ? responseData.included[1] : responseData.included[0],\n          returnError: false,\n        });\n        const ro =\n          eid === responseData.included[0].id\n            ? responseData.included[0].attributes.name\n            : responseData.included[1].attributes.name;\n        if (rof) relatedOwner(ro);\n      })\n      .catch((error) => {\n        this.setState({\n          returnError: true,\n        });\n        console.log(error);\n      });\n  }\n\n  render() {\n    const { included, returnError } = this.state;\n    const { did } = this.props;\n    if (included.attributes && !returnError) {\n      return (\n        <div className=\"details-window\">\n          <p className=\"details-window__name\">{included.attributes.name}</p>\n          <div className=\"details-window-summary\">\n            <p className=\"window-summary__blurb\">{included.attributes.blurb}</p>\n            <p>{included.attributes.summary}</p>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        {returnError ? (\n          <div className=\"search-error\">ERROR : {did} &nbsp; did not return any results </div>\n        ) : (\n          <div className=\"flx-ctr\">\n            <svg className=\"loading\" viewBox=\"25 25 50 50\">\n              <circle cx=\"50\" cy=\"50\" r=\"20\">\n                {' '}\n              </circle>{' '}\n            </svg>{' '}\n          </div>\n        )}{' '}\n      </div>\n    );\n  }\n}\n\nRelationDetails.propTypes = {\n  did: PropTypes.number.isRequired,\n  eid: PropTypes.number.isRequired,\n  relatedOwner: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './App.scss';\nimport { RelationDetails } from './RelationDetails.js';\nimport { paginate, removeDuplicates } from './Helpers.js';\n\nexport class Related extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      relationships: {},\n      page: 1,\n      relationsId: 0,\n      detailsId: 0,\n      localEntityId: 0,\n      active: {},\n      relatedOwner: '',\n      returnError: false,\n    };\n    this.meta = {};\n    this.paginate = paginate.bind(this);\n    this.removeDuplicates = removeDuplicates.bind(this);\n    this.relatedOwner = this.relatedOwner.bind(this);\n  }\n\n  componentDidMount() {\n    const { entityId } = this.props;\n    this.getRelationshipData(entityId);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { entityId } = this.props;\n    const { page, relationsId, localEntityId } = this.state;\n\n    if (entityId !== prevProps.entityId) {\n      this.getRelationshipData(entityId, 1);\n    }\n\n    if (relationsId !== prevState.relationsId) {\n      this.getRelationshipData(relationsId);\n    } else if (page !== prevState.page) {\n      this.getRelationshipData(localEntityId);\n    }\n  }\n\n  getRelationshipData(eid, p) {\n    const { page } = this.state;\n    const queryPage = p ? 1 : page;\n    fetch(`https://littlesis.org/api/entities/${eid}/relationships?page=${queryPage}`, {\n      method: 'GET',\n    })\n      .then((response) => response.json())\n      .then((responseData) => {\n        if (responseData.data.length === 0) {\n          return this.setState({\n            returnError: true,\n          });\n        }\n        this.meta = responseData.meta;\n        this.setState({\n          relationships: responseData.data,\n          detailsId: responseData.data[0].attributes.id,\n          localEntityId: eid,\n          active: responseData.data[0],\n          returnError: false,\n          page: queryPage,\n        });\n      })\n      .catch((error) => {\n        this.setState({\n          returnError: true,\n        });\n        console.error(error);\n      });\n  }\n\n  myRelations(relationsId) {\n    this.setState({\n      relationsId,\n      page: 1,\n    });\n  }\n\n  myDetails(relation) {\n    this.setState({\n      detailsId: relation.id,\n      active: relation,\n    });\n  }\n\n  relatedOwner(relatedOwner) {\n    this.setState({\n      relatedOwner,\n    });\n  }\n\n  render() {\n    const { returnError, relationships, page, detailsId, localEntityId, active, relatedOwner } = this.state;\n    const activeStyle = 'arrow active';\n    if (relationships[0] && !returnError) {\n      const descriptions = [];\n      const filteredRelationships = this.removeDuplicates(relationships, 'id');\n      for (const relation of filteredRelationships) {\n        const desc = relation.attributes.description;\n        const uniqueId =\n          localEntityId === relation.attributes.entity1_id\n            ? relation.attributes.entity2_id\n            : relation.attributes.entity1_id;\n        descriptions.push(\n          <li key={relation.id} className={active === relation ? activeStyle : 'arrow'}>\n            <div className=\"related-description\">{desc}</div>\n            <div className=\"related-buttons\">\n              <button\n                type=\"button\"\n                className=\"buttons-relationships__button\"\n                onClick={() => this.myRelations(uniqueId)}\n              >\n                <svg\n                  aria-hidden=\"true\"\n                  focusable=\"false\"\n                  data-prefix=\"far\"\n                  data-icon=\"address-book\"\n                  role=\"img\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 448 512\"\n                  className=\"svg-inline--fa fa-address-book fa-w-14 fa-3x\"\n                >\n                  <path\n                    fill=\"currentColor\"\n                    d=\"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-68 304H48V48h320v416zM208 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2z\"\n                    className=\"\"\n                  />\n                </svg>\n              </button>\n              <button className=\"buttons-details__button\" type=\"button\" onClick={() => this.myDetails(relation)}>\n                Details<span className={active === relation ? activeStyle : 'arrow'}>{'>'}</span>\n              </button>\n            </div>\n          </li>\n        );\n      }\n      return (\n        <div className=\"flx-ctr related\">\n          <div className=\"relationships\">\n            <div className=\"relationships-results\">\n              <div className=\"results-header\">\n                <div className=\"results-header-top\">\n                  <svg\n                    aria-hidden=\"true\"\n                    focusable=\"false\"\n                    data-prefix=\"far\"\n                    data-icon=\"address-book\"\n                    role=\"img\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 448 512\"\n                    className=\"svg-inline--fa fa-address-book fa-w-14 fa-3x\"\n                  >\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-68 304H48V48h320v416zM208 256c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2z\"\n                      className=\"\"\n                    />\n                  </svg>\n                  <div className=\"results-header-top__text\">Relationships of {relatedOwner}</div>\n                </div>\n                <div className=\"results-header-bottom\">\n                  <svg\n                    aria-hidden=\"true\"\n                    focusable=\"false\"\n                    data-prefix=\"far\"\n                    data-icon=\"hand-point-down\"\n                    role=\"img\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 448 512\"\n                    className=\"svg-inline--fa fa-hand-point-down fa-w-14 fa-3x\"\n                  >\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M188.8 512c45.616 0 83.2-37.765 83.2-83.2v-35.647a93.148 93.148 0 0 0 22.064-7.929c22.006 2.507 44.978-3.503 62.791-15.985C409.342 368.1 448 331.841 448 269.299V248c0-60.063-40-98.512-40-127.2v-2.679c4.952-5.747 8-13.536 8-22.12V32c0-17.673-12.894-32-28.8-32H156.8C140.894 0 128 14.327 128 32v64c0 8.584 3.048 16.373 8 22.12v2.679c0 6.964-6.193 14.862-23.668 30.183l-.148.129-.146.131c-9.937 8.856-20.841 18.116-33.253 25.851C48.537 195.798 0 207.486 0 252.8c0 56.928 35.286 92 83.2 92 8.026 0 15.489-.814 22.4-2.176V428.8c0 45.099 38.101 83.2 83.2 83.2zm0-48c-18.7 0-35.2-16.775-35.2-35.2V270.4c-17.325 0-35.2 26.4-70.4 26.4-26.4 0-35.2-20.625-35.2-44 0-8.794 32.712-20.445 56.1-34.926 14.575-9.074 27.225-19.524 39.875-30.799 18.374-16.109 36.633-33.836 39.596-59.075h176.752C364.087 170.79 400 202.509 400 248v21.299c0 40.524-22.197 57.124-61.325 50.601-8.001 14.612-33.979 24.151-53.625 12.925-18.225 19.365-46.381 17.787-61.05 4.95V428.8c0 18.975-16.225 35.2-35.2 35.2zM328 64c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24z\"\n                      className=\"\"\n                    />\n                  </svg>\n                </div>\n              </div>\n              <ul>{descriptions}</ul>\n            </div>\n            <div className=\"relationships-paging\">\n              <div>\n                Page {page} of {this.meta.pageCount}\n              </div>\n              <div className=\"paging-buttons\">\n                <button type=\"button\" className=\"prev\" onClick={() => this.paginate(-1)} disabled={page === 1}>\n                  previous\n                </button>{' '}\n                <button\n                  type=\"button\"\n                  className=\"next\"\n                  onClick={() => this.paginate(1)}\n                  disabled={page === this.meta.pageCount}\n                >\n                  next\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"details\">\n            <RelationDetails did={detailsId} eid={localEntityId} relatedOwner={this.relatedOwner} />\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div>\n        {' '}\n        {returnError ? (\n          <div className=\"search-error\">ERROR : {localEntityId}&nbsp; did not return any results </div>\n        ) : (\n          <div className=\"flx-ctr\">\n            <svg className=\"loading\" viewBox=\"25 25 50 50\">\n              <circle cx=\"50\" cy=\"50\" r=\"20\">\n                {' '}\n              </circle>{' '}\n            </svg>{' '}\n          </div>\n        )}{' '}\n      </div>\n    );\n  }\n}\n\nRelated.propTypes = {\n  entityId: PropTypes.number.isRequired,\n};\n","import React, { PureComponent } from 'react';\nimport './App.scss';\nimport { Search } from './Search.js';\nimport { Entity } from './Entity.js';\nimport { Related } from './Related.js';\n\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      term: 'Trump',\n      id: 15108,\n    };\n    this.updateTerm = this.updateTerm.bind(this);\n    this.setId = this.setId.bind(this);\n  }\n\n  setId(id) {\n    this.setState({\n      id,\n    });\n  }\n\n  updateTerm(term) {\n    this.setState({\n      term,\n    });\n  }\n\n  render() {\n    const { term, id } = this.state;\n    return (\n      <div id=\"App\" className=\"App\">\n        <div className=\"accent\" />\n        <div className=\"wrap\">\n          <header>\n            <h1>Interlinked profiles of powerful individuals and organizations in the public and private sectors.</h1>\n            <h2>\n              -powered by <a href=\"https://littlesis.org\">LittleSis</a>\n            </h2>\n          </header>\n          <Search updateTerm={this.updateTerm} />\n          <Entity term={term} setId={this.setId} />\n          <Related entityId={id} />{' '}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}